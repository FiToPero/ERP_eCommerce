Perfecto. A continuaciÃ³n te dejo una visiÃ³n integral y ordenada de la estructura de Base de Datos para un ERP de E-commerce, pensada para Argentina, compatible con AFIP/ARCA, mÃºltiples pasarelas de pago, marketplaces, stock, cuentas corrientes y envÃ­os.

ğŸ‘‰ No es cÃ³digo SQL, sino modelo lÃ³gico relacional, con explicaciÃ³n de quÃ© hace cada tabla y por quÃ© existe, y cÃ³mo se relacionan.
1ï¸âƒ£ Seguridad y Usuarios
users

Entidad central del sistema
campo	descripciÃ³n
id	
name	
email	
password	
status	
created_at	

ğŸ“Œ Por quÃ©
Un Ãºnico modelo User para clientes, proveedores, admins y operadores.
profiles

Datos extendidos del usuario
campo
id
user_id (FK)
tipo_persona (fisica/juridica)
razon_social
cuit
dni
telefono
direccion
provincia
pais

ğŸ“Œ Por quÃ©
Separar identidad fiscal/comercial del login.
roles
campo
id
name
description
role_user
campo
user_id
role_id

ğŸ“Œ Por quÃ©
Control de permisos (RBAC).
2ï¸âƒ£ Productos y Canales de Venta
products
campo
id
sku
nombre
descripcion
precio
costo
activo
categoria_id

ğŸ“Œ Por quÃ©
Producto base, independiente del canal.
product_channels

(Google, Meta, MercadoLibre, Web)
campo
id
product_id
canal (google/meta/ml/web)
external_id
precio
estado

ğŸ“Œ Por quÃ©
Un mismo producto puede existir en mÃºltiples marketplaces con datos distintos.
google_merchant
campo
product_channel_id
google_category
gtin
mpn
condition
meta_merchant
campo
product_channel_id
meta_category
availability
mercadolibre_merchant
campo
product_channel_id
ml_category
listing_type
warranty

ğŸ“Œ Por quÃ©
Cada marketplace exige campos propios.
3ï¸âƒ£ Stock y Trazabilidad
stocks
campo
id
product_id
deposito_id
stock_actual

ğŸ“Œ Por quÃ©
Stock consolidado por producto y depÃ³sito.
stock_movements
campo
id
product_id
tipo (ingreso/egreso/ajuste)
referencia_tipo (venta/compra)
referencia_id
cantidad
fecha

ğŸ“Œ Por quÃ©
âœ” AuditorÃ­a
âœ” Rehacer stock histÃ³rico
âœ” Control contable
4ï¸âƒ£ Ventas y Compras
sales (ventas)
campo
id
user_id (cliente)
total
estado
fecha
sale_items
campo
sale_id
product_id
cantidad
precio_unitario

ğŸ“Œ Por quÃ©
Venta normalizada (cabecera + detalle).
purchases (compras)
campo
id
proveedor_id
total
estado
fecha
purchase_items
campo
purchase_id
product_id
cantidad
costo_unitario

ğŸ“Œ Por quÃ©
Entrada de mercaderÃ­a + impacto en stock.
5ï¸âƒ£ Pagos y Medios de Pago
payment_methods
campo
id
nombre (efectivo, tarjeta, MP, MODO)
tipo
payments
campo
id
sale_id
payment_method_id
monto
estado
referencia_externa

ğŸ“Œ Por quÃ©
Permite:

    pagos parciales

    mÃºltiples medios por venta

payment_gateway_details

(Mercado Pago / Modo / Banco)
campo
payment_id
gateway
transaction_id
raw_response

ğŸ“Œ Por quÃ©
Guardar la respuesta exacta del proveedor.
6ï¸âƒ£ Cuentas Corrientes
current_accounts
campo
id
user_id
saldo_actual

ğŸ“Œ Por quÃ©
Saldo rÃ¡pido sin recalcular todo.
current_account_movements
campo
id
current_account_id
tipo (debe/haber)
referencia_tipo
referencia_id
monto
fecha

ğŸ“Œ Por quÃ©
Libro mayor del cliente/proveedor.
7ï¸âƒ£ Bancos y Billeteras
bank_accounts
campo
id
banco
cbu
alias
moneda
wallet_accounts

(Mercado Pago / MODO)
campo
id
proveedor
identificador
user_id

ğŸ“Œ Por quÃ©
Separar fondos propios del negocio.
8ï¸âƒ£ EnvÃ­os y LogÃ­stica
shipping_types
campo
id
nombre
proveedor
costo_base
shipments
campo
id
sale_id
shipping_type_id
tracking
estado

ğŸ“Œ Por quÃ©
Desacoplar venta de logÃ­stica.
9ï¸âƒ£ Documentos Fiscales AFIP / ARCA
document_types
campo
id
codigo_afip
nombre
tipo (factura, nc, nd, recibo)
fiscal_documents
campo
id
document_type_id
user_id
sale_id
numero
cae
fecha_emision
total

ğŸ“Œ Por quÃ©
Cumplimiento legal + trazabilidad fiscal.
ğŸ”— Relaciones Clave (Resumen)

User â†’ Profile
User â†’ Roles
User â†’ Sales â†’ Payments
Sales â†’ SaleItems â†’ Products
Products â†’ Stock â†’ StockMovements
Sales â†’ Shipments
Payments â†’ PaymentMethods
Payments â†’ GatewayDetails
Sales â†’ FiscalDocuments
User â†’ CurrentAccount â†’ Movements

âœ… Beneficios de este diseÃ±o

âœ” Escalable
âœ” Compatible AFIP
âœ” Multi-canal
âœ” Multi-pasarela
âœ” AuditorÃ­a completa
âœ” Preparado para ERP real

Si querÃ©s, en el prÃ³ximo paso puedo:

    ğŸ“Œ Convertir esto a diagrama ER

    ğŸ“Œ Pasarlo a migraciones Laravel

    ğŸ“Œ Optimizarlo para Filament

    ğŸ“Œ Ajustarlo a Mercado Pago real (Argentina)